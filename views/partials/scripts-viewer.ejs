<link type="text/css" href="https://developer.api.autodesk.com/derivativeservice/v2/viewers/style.css?v=v3.3">
<script src="https://developer.api.autodesk.com/derivativeservice/v2/viewers/three.js?v=v3.3"></script>
<script src="https://developer.api.autodesk.com/derivativeservice/v2/viewers/viewer3D.js?v=v3.3"></script>

<script>
  var viewer = null;
  var options = {
      env: 'AutodeskProduction',
      accessToken: 'eyJhbGciOiJIUzI1NiIsImtpZCI6Imp3dF9zeW1tZXRyaWNfa2V5In0.eyJjbGllbnRfaWQiOiJOZVNhMld3cElFdWpWbXpadkhyTU83dlBzN1JxQXFQRCIsImV4cCI6MTUyNDA0MDA3OSwic2NvcGUiOlsiYnVja2V0OnJlYWQiLCJidWNrZXQ6Y3JlYXRlIiwiZGF0YTpyZWFkIiwiZGF0YTp3cml0ZSJdLCJhdWQiOiJodHRwczovL2F1dG9kZXNrLmNvbS9hdWQvand0ZXhwNjAiLCJqdGkiOiJHalpQRGRFOWlSOE5VMkY4TUtJcUZuNHl1Z1VhMXU1elduVDBmeUE2WFZMNXNSSHZXMlNqOG9KTjFpYWdRbVEwIn0.3bJpHzHvBLC6Hmpn0SIUv1HYuqXGhFbCRel7Yv9GB3k'
  };
        
  const documentId = 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6Zm9yZXZlcl9idWNrZXQvcm1lX2FkdmFuY2VkX3NhbXBsZV9wcm9qZWN0MjAxNy5ydnQ';
  Autodesk.Viewing.Initializer( options, function() {
    Autodesk.Viewing.Document.load( documentId, onDocumentLoadSuccess, onDocumentLoadFailure );
  });
  
  function onDocumentLoadSuccess( doc ) {
    const rootItem = doc.getRootItem();
    const filter = { ' type' : 'geometry' , 'role' : '3d' };
    const viewables = Autodesk.Viewing.Document.getSubItemsWithProperties( rootItem, filter, true );
    
    if( viewables. length === 0 ) {
      console.error( 'Document contains no viewables.' );
      return;
    }
    
    const initialViewable = viewables[0];
    const svfUrl = doc.getViewablePath( viewables[0] );
    
    const modelOptions = {
      sharedPropertyDbPath: doc.getPropertyDbPath()
    };
    const viewerDiv = document.getElementById( 'viewer' );
    viewer = new Autodesk.Viewing.Private.GuiViewer3D( viewerDiv );
    viewer.start( svfUrl, modelOptions, onLoadModelSuccess, onLoadModelError ); 
  }
 
  function onDocumentLoadFailure(viewerErrorCode) {
    console.error( ' onDocumentLoadFailure() - errorCode:' + viewerErrorCode);
  }
  
  function onLoadModelSuccess( model ) {
    console. log( ' onLoadModelSuccess()! ' );
    console. log( 'Validate model loaded: ' + ( viewer.model === model ) );
    console. log( model );
  }

  function onLoadModelError( viewerErrorCode ) {
    console.error( ' onLoadModelError() - errorCode:' + viewerErrorCode);
  }  
</script>